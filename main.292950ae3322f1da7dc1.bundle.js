(()=>{"use strict";var e,t={711:(e,t,s)=>{s(440);class i extends Phaser.Scene{constructor(){super({key:"BootScene"})}preload(){this.cameras.main.setBackgroundColor(0),this.createLoadingGraphics(),this.load.on("progress",(e=>{this.progressBar.clear(),this.progressBar.fillStyle(8971347,1),this.progressBar.fillRect(this.cameras.main.width/4,this.cameras.main.height/2-16,this.cameras.main.width/2*e,16)})),this.load.on("complete",(()=>{this.progressBar.destroy(),this.loadingBar.destroy()})),this.load.pack("preload","./assets/pack.json","preload"),this.load.pack("button","./assets/images/buttonPack.json","button"),this.load.image("pauseBtn","./assets/images/pauseBtn.png"),this.load.image("playBtn","./assets/images/Default.png"),this.load.image("replayBtn","./assets/images/replayBtn.png"),this.load.image("musicOnBtn","./assets/images/musicOnBtn.png"),this.load.image("musicOffBtn","./assets/images/musicOffBtn.png"),this.load.image("BG","./assets/images/whiteBG.png"),this.load.bitmapFont("gameFont","assets/font/font.png","assets/font/font.fnt"),this.load.audio("shoot","assets/sounds/heavy_machinegun.ogg"),this.load.audio("hit","assets/sounds/explodemini.wav"),this.load.audio("click","assets/sounds/click_sound.wav"),this.load.spritesheet("explodeTank","assets/effects/explosion1.png",{frameWidth:64,frameHeight:64}),this.load.spritesheet("explodeBullet","assets/effects/explosion2.png",{frameWidth:64,frameHeight:64})}update(){this.scene.start("MenuScene")}createLoadingGraphics(){this.loadingBar=this.add.graphics(),this.loadingBar.fillStyle(16777215,1),this.loadingBar.fillRect(this.cameras.main.width/4-2,this.cameras.main.height/2-18,this.cameras.main.width/2+4,20),this.progressBar=this.add.graphics()}}class a extends Phaser.GameObjects.Sprite{constructor(e){super(e.scene,e.x,e.y,e.texture),this.currentScene=e.scene,this.rotation=e.rotation,this.initSprite(),this.scene.add.existing(this)}initSprite(){this.bulletSpeed=1e3,this.setOrigin(.5,.5),this.setDepth(2),this.scene.physics.world.enable(this),this.scene.physics.velocityFromRotation(this.rotation-Math.PI/2,this.bulletSpeed,this.body.velocity)}explodeBullet(){const e=this.currentScene.add.sprite(this.x,this.y,"explosionBullet");e.setScale(1),e.play("explodeBullet"),e.once("animationcomplete",(()=>{e.destroy()}))}}class h extends Phaser.GameObjects.Sprite{getBullets(){return this.bullets}constructor(e){super(e.scene,e.x,e.y,e.texture,e.frame),this.acceleration=1e3,this.deceleration=1e3,this.maxSpeed=400,this.lastMouseShoot=0,this.currentScene=e.scene,this.initialPosition={x:e.x,y:e.y},this.setState("alive"),this.initImage(),this.scene.add.existing(this)}initImage(){this.health=1,this.lastShoot=0,this.speed=200,this.setOrigin(.5,.5),this.setDepth(0),this.angle=180,this.barrel=this.scene.add.sprite(this.x,this.y,"barrelBlue"),this.barrel.setOrigin(.5,1),this.barrel.setDepth(1),this.barrel.angle=180,this.lifeBar=this.scene.add.graphics(),this.redrawLifebar(),this.bullets=this.scene.add.group({active:!0,maxSize:10,runChildUpdate:!0}),this.cursors=this.scene.input.keyboard.createCursorKeys(),this.moveUp=this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.W),this.moveDown=this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.S),this.moveLeft=this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.A),this.moveRight=this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.D),this.shootingKey=this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE),this.scene.physics.world.enable(this)}update(){this.active&&(this.barrel.x=this.x,this.barrel.y=this.y,this.lifeBar.x=this.x,this.lifeBar.y=this.y,this.handleInput(),this.handleShooting(),this.handleBarrelRotation())}handleBarrelRotation(){const e=this.scene.input.activePointer,t=Phaser.Math.Angle.Between(this.x,this.y,e.x+this.scene.cameras.main.scrollX,e.y+this.scene.cameras.main.scrollY);this.barrel.rotation=t+Math.PI/2}handleInput(){let e=0,t=0;if(this.moveUp.isDown||this.cursors.up.isDown?t=-this.maxSpeed:(this.moveDown.isDown||this.cursors.down.isDown)&&(t=this.maxSpeed),this.moveLeft.isDown||this.cursors.left.isDown?e=-this.maxSpeed:(this.moveRight.isDown||this.cursors.right.isDown)&&(e=this.maxSpeed),0!==e&&0!==t){const s=this.maxSpeed/Math.sqrt(e*e+t*t);e*=s,t*=s}const s=this.scene.sys.game.loop.delta/1e3;if(this.body.velocity.x=Phaser.Math.Linear(this.body.velocity.x,e,this.acceleration*s/this.maxSpeed),this.body.velocity.y=Phaser.Math.Linear(this.body.velocity.y,t,this.acceleration*s/this.maxSpeed),0!==this.body.velocity.x||0!==this.body.velocity.y){const e=Math.atan2(this.body.velocity.y,this.body.velocity.x);this.rotation=Phaser.Math.Angle.RotateTo(this.rotation,e+Math.PI/2,.1)}}handleShooting(){const e=this.scene.time.now;"play"===this.currentScene.stateMachine.getState()&&(this.shootingKey.isDown||this.scene.input.activePointer.isDown)&&e>this.lastShoot&&(this.shoot(),this.lastShoot=e+80)}shoot(){this.scene.cameras.main.shake(20,.005),this.scene.tweens.add({targets:this,props:{alpha:.8},delay:0,duration:5,ease:"Power1",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!0,paused:!1}),this.bullets.getLength()<10&&(this.bullets.add(new a({scene:this.scene,rotation:this.barrel.rotation,x:this.barrel.x,y:this.barrel.y,texture:"bulletBlue"})),this.currentScene.isSoundOn&&this.currentScene.shootSound.play())}explodeTank(){const e=this.currentScene.add.sprite(this.x,this.y,"explosionTank");e.setScale(4),e.play("explodeTank"),e.once("animationcomplete",(()=>{e.destroy()})),this.currentScene.isSoundOn&&this.currentScene.hitSound.play()}redrawLifebar(){this.lifeBar.clear(),this.lifeBar.fillStyle(15100456,1),this.lifeBar.fillRect(-this.width/2,this.height/2,this.width*this.health,15),this.lifeBar.lineStyle(2,16777215),this.lifeBar.strokeRect(-this.width/2,this.height/2,this.width,15),this.lifeBar.setDepth(1)}updateHealth(){this.health>0?(this.health-=.05,this.redrawLifebar()):(this.health=0,this.active=!1,this.setState("dead"))}reset(){this.x=this.initialPosition.x,this.y=this.initialPosition.y,this.health=1,this.lastShoot=0,this.angle=180,this.barrel.angle=180,this.barrel.x=this.x,this.barrel.y=this.y,this.lifeBar.x=this.x,this.lifeBar.y=this.y,this.redrawLifebar(),this.active=!0,this.visible=!0,this.setState("alive")}pause(){this.body.setVelocity(0,0),this.body.moves=!1,this.active=!1}resume(){this.active=!0,this.body.moves=!0}hit(){this.explodeTank(),this.body.setVelocity(0,0),this.visible=!1}}class r extends Phaser.GameObjects.Sprite{getBarrel(){return this.barrel}getBullets(){return this.bullets}constructor(e){super(e.scene,e.x,e.y,e.texture,e.frame),this.currentScene=e.scene,this.initialPosition={x:e.x,y:e.y},this.setState("alive"),this.initContainer(),this.scene.add.existing(this)}initContainer(){this.health=1,this.lastShoot=0,this.speed=100,this.setDepth(0),this.barrel=this.scene.add.sprite(0,0,"barrelRed"),this.barrel.setOrigin(.5,1),this.barrel.setDepth(1),this.lifeBar=this.scene.add.graphics(),this.redrawLifebar(),this.bullets=this.scene.add.group({active:!0,maxSize:10,runChildUpdate:!0}),this.moveTweens=this.scene.tweens.add({targets:this,props:{y:this.y-200},delay:0,duration:2e3,ease:"Linear",easeParams:null,hold:0,repeat:-1,repeatDelay:0,yoyo:!0}),this.scene.physics.world.enable(this)}update(){this.active&&(this.barrel.x=this.x,this.barrel.y=this.y,this.lifeBar.x=this.x,this.lifeBar.y=this.y)}showFloatingScore(){const e=this.scene.add.text(this.x,this.y,"+100",{font:"32px Arial"});this.scene.tweens.add({targets:e,y:this.y-50,alpha:0,duration:2e3,ease:"Power2",onComplete:()=>{e.destroy()}})}explodeTank(){const e=this.currentScene.add.sprite(this.x,this.y,"explosionTank");e.setScale(4),e.play("explodeTank"),e.once("animationcomplete",(()=>{e.destroy()})),this.currentScene.isSoundOn&&this.currentScene.hitSound.play()}handleShooting(){this.scene.time.now>this.lastShoot&&this.bullets.getLength()<10&&(this.bullets.add(new a({scene:this.scene,rotation:this.barrel.rotation,x:this.barrel.x,y:this.barrel.y,texture:"bulletRed"})),this.lastShoot=this.scene.time.now+400)}redrawLifebar(){this.lifeBar.clear(),this.lifeBar.fillStyle(15100456,1),this.lifeBar.fillRect(-this.width/2,this.height/2,this.width*this.health,15),this.lifeBar.lineStyle(2,16777215),this.lifeBar.strokeRect(-this.width/2,this.height/2,this.width,15),this.lifeBar.setDepth(1)}updateHealth(){this.health>0?(this.health-=.05,this.redrawLifebar()):(this.health=0,this.active=!1,this.setState("destroy"))}reset(){this.x=this.initialPosition.x,this.y=this.initialPosition.y,this.health=1,this.redrawLifebar(),this.setState("alive"),this.lifeBar.visible=!0,this.active=!0,this.visible=!0,this.barrel&&(this.barrel.x=this.x,this.barrel.y=this.y,this.barrel.visible=!0),this.moveTweens&&this.moveTweens.resume(),this.bullets.clear(!0,!0),this.lastShoot=0,this.body&&(this.body.enable=!0)}pause(){this.moveTweens.pause(),this.active=!1}resume(){this.active=!0,this.moveTweens.resume()}hit(){this.explodeTank(),this.currentScene.scoreManager.updateScore(100),this.currentScene.scoreText.setText(`Score: ${this.currentScene.scoreManager.getScore()}`),this.showFloatingScore(),this.deactivate()}deactivate(){this.bullets.clear(!0,!0),this.active=!1,this.visible=!1,this.lifeBar&&(this.lifeBar.visible=!1),this.barrel&&(this.barrel.visible=!1),this.body&&(this.body.enable=!1),this.moveTweens&&this.moveTweens.pause(),this.setState("dead")}}class n extends Phaser.GameObjects.Sprite{constructor(e){super(e.scene,e.x,e.y,e.texture),this.initSprite(),this.scene.add.existing(this)}initSprite(){this.setOrigin(0,0),this.scene.physics.world.enable(this),this.body.setImmovable(!0)}update(){}}class o extends Phaser.GameObjects.Sprite{constructor(e,t,s,i,a){super(e,t,s,i[0]),this.setInteractive({useHandCursor:!0}),this.setScale(1),this.setScrollFactor(0),this.onClick=a,this.on("pointerover",(()=>{this.setTexture(i[1]),e.tweens.add({targets:this,scale:1.1,duration:200,ease:"Power1"})})),this.on("pointerout",(()=>{this.setTexture(i[0]),e.tweens.add({targets:this,scale:1,duration:200,ease:"Power1"})})),this.on("pointerdown",(()=>{e.isSoundOn&&e.clickSound.play(),e.tweens.add({targets:this,scale:.8,duration:200,ease:"Power1",onComplete:()=>{this.setTexture(i[0]),this.setScale(1)}}),this.onClick()})),e.add.existing(this)}}const l=o;class c extends Phaser.GameObjects.Sprite{constructor(e,t,s){super(e,t,s,"soundOn"),this.setInteractive({useHandCursor:!0}),this.setScale(1),this.setScrollFactor(0);const i=["soundOn","soundOn_hover","soundOff","soundOff_hover"];this.on("pointerover",(()=>{e.isSoundOn?this.setTexture(i[1]):this.setTexture(i[3]),e.tweens.add({targets:this,scale:1.1,duration:200,ease:"Power1"})})),this.on("pointerout",(()=>{e.isSoundOn?this.setTexture(i[0]):this.setTexture(i[2]),e.tweens.add({targets:this,scale:1,duration:200,ease:"Power1"})})),this.on("pointerdown",(()=>{e.isSoundOn||e.clickSound.play(),e.tweens.add({targets:this,scale:.8,duration:0,ease:"Power1",onComplete:()=>{e.isSoundOn=!e.isSoundOn,e.isSoundOn?this.setTexture(i[1]):this.setTexture(i[3]),this.setScale(1.1),console.log(e.isSoundOn?"Sound on":"Sound off")}})})),e.add.existing(this)}}const d=c;class u extends Phaser.GameObjects.Container{constructor(e,t,s){super(e,t,s),this.currentScene=e,this.background=e.add.sprite(0,0,"BG").setScale(1.5),this.pauseText=e.add.bitmapText(0,0,"gameFont","PAUSE",64),this.pauseText.setTint(40831),this.scoreText=e.add.text(0,0,`Score: ${e.scoreManager.getScore()}`,{font:"48px Arial",color:"#009F7F"}),this.continueButton=new l(e,0,0,["play","play_hover"],(()=>{this.currentScene.stateMachine.transition("play")})),this.newGameButton=new l(e,0,0,["replay","replay_hover"],(()=>{this.currentScene.stateMachine.transition("start")})),this.soundButton=new d(e,0,0),Phaser.Display.Align.In.Center(this.pauseText,this.background,0,-120),Phaser.Display.Align.In.Center(this.scoreText,this.background,0,-50),Phaser.Display.Align.In.Center(this.continueButton,this.background,0,50),Phaser.Display.Align.In.Center(this.newGameButton,this.background,-150,50),Phaser.Display.Align.In.Center(this.soundButton,this.background,150,50),this.add([this.background,this.pauseText,this.scoreText,this.continueButton,this.newGameButton,this.soundButton]),this.setScrollFactor(0),this.setSize(this.background.displayWidth,this.background.displayHeight),this.setDepth(3),e.add.existing(this)}updateScoreText(){this.scoreText.setText(`Score: ${this.currentScene.scoreManager.getScore()}`),Phaser.Display.Align.In.Center(this.scoreText,this.background,0,-50)}}const p=u;class y extends Phaser.GameObjects.Container{constructor(e,t,s){super(e,t,s),this.currentScene=e,this.background=e.add.sprite(0,0,"BG").setScale(1.5),this.gameoverText=e.add.bitmapText(0,0,"gameFont","GAME OVER",64),this.gameoverText.setTint(40831),this.scoreText=e.add.text(0,0,`Score: ${e.scoreManager.getScore()}`,{font:"48px Arial",color:"#009F7F"}),this.highScoreText=e.add.text(0,0,`Highest Score: ${e.scoreManager.getHighestScore()}`,{font:"32px Arial",color:"#009F7F"}),this.newGameButton=new l(e,0,0,["replay","replay_hover"],(()=>{this.currentScene.stateMachine.transition("start")})),Phaser.Display.Align.In.Center(this.gameoverText,this.background,0,-120),Phaser.Display.Align.In.Center(this.scoreText,this.background,0,-50),Phaser.Display.Align.In.Center(this.highScoreText,this.background,0,0),Phaser.Display.Align.In.Center(this.newGameButton,this.background,0,100),this.add([this.background,this.gameoverText,this.scoreText,this.highScoreText,this.newGameButton]),this.setScrollFactor(0),this.setSize(this.background.displayWidth,this.background.displayHeight),this.setDepth(3),e.add.existing(this)}updateScoreText(){this.scoreText.setText(`Score: ${this.currentScene.scoreManager.getScore()}`),this.highScoreText.setText(`Highest Score: ${this.currentScene.scoreManager.getHighestScore()}`),Phaser.Display.Align.In.Center(this.scoreText,this.background,0,-50),Phaser.Display.Align.In.Center(this.highScoreText,this.background,0,0)}}const g=y,x=class{constructor(e){this.scene=e}fadeIn(e,t=200){e.setVisible(!0),e.setActive(!0),e.setInteractive(),e.setAlpha(0),e.setScale(.5),this.scene.tweens.add({targets:e,alpha:1,scale:1,duration:t,ease:"Quint.easeIn"})}fadeOut(e,t=300){e.setAlpha(1),e.setScale(1),this.scene.tweens.add({targets:e,alpha:0,scale:.5,duration:t,ease:"Quint.easeIn",onComplete:()=>{e.setVisible(!1),e.setActive(!1)}})}},S=class{constructor(e,t={},s=[]){this.initialState=e,this.possibleStates=t,this.stateArgs=s,this.state=null;for(const e of Object.values(this.possibleStates))e.stateMachine=this}update(e,t){null===this.state&&(this.state=this.initialState,this.possibleStates[this.state].enter()),this.possibleStates[this.state].execute(e,t)}transition(e,...t){this.state&&this.possibleStates[this.state].exit(),this.state=e,this.possibleStates[this.state].enter()}getState(){return this.state}},m=class{},b=class extends m{constructor(e){super(),this.scene=e}enter(){var e;console.log("PlayState"),this.pauseKey=null===(e=this.scene.input.keyboard)||void 0===e?void 0:e.addKey(Phaser.Input.Keyboard.KeyCodes.ESC),this.scene.pauseButton.setVisible(!0),this.scene.pauseButton.setActive(!0),this.scene.pauseButton.setInteractive(),console.log(this.scene.scoreManager.getScore())}exit(){}execute(e,t){var s;this.scene.getPlayer().update(),"dead"===this.scene.getPlayer().state&&(this.scene.getPlayer().hit(),this.stateMachine.transition("over")),this.scene.getEnemies().getChildren().forEach((e=>{const t=e;if(t.update(),this.scene.getPlayer().active&&t.active){var s=Phaser.Math.Angle.Between(t.body.x,t.body.y,this.scene.getPlayer().body.x,this.scene.getPlayer().body.y);t.getBarrel().angle=(s+Math.PI/2)*Phaser.Math.RAD_TO_DEG}"destroy"==t.state&&t.hit()}),this),this.scene.scoreText.setText(`Score: ${this.scene.scoreManager.getScore()}`),(null===(s=this.pauseKey)||void 0===s?void 0:s.isDown)&&this.stateMachine.transition("pause")}},v=class extends m{constructor(e){super(),this.scene=e}enter(){console.log("PauseState"),this.scene.getPlayer().pause(),this.scene.getEnemies().getChildren().forEach((e=>{e.pause()})),this.scene.pauseMenu.updateScoreText(),this.scene.transition.fadeIn(this.scene.pauseMenu),this.scene.pauseButton.setActive(!1),this.scene.pauseButton.disableInteractive()}exit(){this.scene.getPlayer().resume(),this.scene.getEnemies().getChildren().forEach((e=>{e.resume()})),this.scene.transition.fadeOut(this.scene.pauseMenu),this.scene.pauseButton.setActive(!0),this.scene.pauseButton.setInteractive()}execute(e,t){}},f=class extends m{constructor(e){super(),this.scene=e}enter(){console.log("OverState");const e=this.scene.getEnemies().getChildren();for(let t=e.length-1;t>=0;t--){const s=e[t];s&&s.active&&s.pause()}this.scene.gameOverScreen.updateScoreText(),this.scene.transition.fadeIn(this.scene.gameOverScreen),this.scene.pauseButton.setActive(!1),this.scene.pauseButton.disableInteractive()}exit(){this.scene.getPlayer().reset();const e=this.scene.getEnemies().getChildren();for(let t=e.length-1;t>=0;t--)e[t].reset();this.scene.transition.fadeOut(this.scene.gameOverScreen)}execute(e,t){}},w=class extends m{constructor(e){super(),this.scene=e}enter(){console.log("StartState"),this.scene.scoreManager.resetScore(),this.stateMachine.transition("play")}exit(){}execute(e,t){}},B=class{constructor(e){this.score=0,this.scene=e,this.highestScore=this.getHighestScore(),this.score=0}getHighestScore(){const e=localStorage.getItem("highestScore");return e?parseInt(e):0}setHighestScore(e){localStorage.setItem("highestScore",e.toString())}updateScore(e){this.score+=e,this.score>this.highestScore&&(this.highestScore=this.score,this.setHighestScore(this.highestScore))}getScore(){return this.score}resetScore(){this.score=0}};class T extends Phaser.Scene{getPlayer(){return this.player}getEnemies(){return this.enemies}getObstacles(){return this.obstacles}constructor(){super({key:"GameScene"})}create(){this.isSoundOn=!0,this.shootSound=this.sound.add("shoot",{volume:.3}),this.hitSound=this.sound.add("hit"),this.clickSound=this.sound.add("click"),this.anims.create({key:"explodeTank",frames:this.anims.generateFrameNumbers("explodeTank",{start:0,end:5}),frameRate:20,repeat:0}),this.anims.create({key:"explodeBullet",frames:this.anims.generateFrameNumbers("explodeBullet",{start:0,end:4}),frameRate:20,repeat:0}),this.map=this.make.tilemap({key:"levelMap"}),this.tileset=this.map.addTilesetImage("tiles"),this.layer=this.map.createLayer("tileLayer",this.tileset,0,0),this.layer.setCollisionByProperty({collide:!0}),this.obstacles=this.add.group({classType:n,runChildUpdate:!0}),this.enemies=this.add.group({classType:r}),this.convertObjects(),this.physics.add.collider(this.player,this.layer),this.physics.add.collider(this.player,this.obstacles),this.physics.add.collider(this.player.getBullets(),this.layer,this.bulletHitLayer,void 0,this),this.physics.add.collider(this.player.getBullets(),this.obstacles,this.bulletHitObstacles,void 0,this),this.enemies.getChildren().forEach((e=>{const t=e;this.physics.add.overlap(this.player.getBullets(),t,this.playerBulletHitEnemy,void 0,this),this.physics.add.overlap(t.getBullets(),this.player,this.enemyBulletHitPlayer,void 0),this.physics.add.collider(t.getBullets(),this.obstacles,this.bulletHitObstacles,void 0),this.physics.add.collider(t.getBullets(),this.layer,this.bulletHitLayer,void 0)}),this),this.cameras.main.startFollow(this.player);const{width:e,height:t}=this.cameras.main;this.pauseButton=new l(this,e-80,60,["pause","pause_hover"],(()=>{this.stateMachine.transition("pause")})),this.scoreManager=new B(this),this.scoreText=this.add.text(10,10,`Score: ${this.scoreManager.getScore()}`,{font:"48px Arial"}),this.scoreText.setScrollFactor(0),this.pauseMenu=new p(this,e/2,t/2),this.pauseMenu.setVisible(!1),this.gameOverScreen=new g(this,e/2,t/2),this.gameOverScreen.setVisible(!1),this.transition=new x(this),this.stateMachine=new S("start",{start:new w(this),play:new b(this),pause:new v(this),over:new f(this)})}update(e,t){this.stateMachine.update(e,t)}convertObjects(){var e;(null===(e=this.map.getObjectLayer("objects"))||void 0===e?void 0:e.objects).forEach((e=>{if("player"===e.type)this.player=new h({scene:this,x:e.x,y:e.y,texture:"tankBlue"});else if("enemy"===e.type){let t=new r({scene:this,x:e.x,y:e.y,texture:"tankRed"});this.enemies.add(t)}else{let t=new n({scene:this,x:e.x,y:e.y-40,texture:e.type});this.obstacles.add(t)}}))}resetEnemies(){var e;console.log("reset",this.enemies),(null===(e=this.map.getObjectLayer("objects"))||void 0===e?void 0:e.objects).forEach((e=>{if("enemy"===e.type){let t=new r({scene:this,x:e.x,y:e.y,texture:"tankRed"});this.enemies.add(t)}})),console.log("reset",this.enemies)}bulletHitLayer(e,t){e instanceof a&&(e.destroy(),e.explodeBullet())}bulletHitObstacles(e,t){e.destroy(),e.explodeBullet()}enemyBulletHitPlayer(e,t){e.destroy(),e.explodeBullet(),t.updateHealth()}playerBulletHitEnemy(e,t){e.destroy(),e.explodeBullet(),t.updateHealth()}}class P extends Phaser.Scene{constructor(){super({key:"MenuScene"}),this.bitmapTexts=[]}init(){this.startKey=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.S),this.startKey.isDown=!1}create(){this.bitmapTexts.push(this.add.bitmapText(this.sys.canvas.width/2-120,this.sys.canvas.height/2,"font","PRESS S TO PLAY",30)),this.bitmapTexts.push(this.add.bitmapText(this.sys.canvas.width/2-120,this.sys.canvas.height/2-100,"font","TANK",100))}update(){this.startKey.isDown&&this.scene.start("GameScene")}}const k={title:"Tank",url:"https://github.com/digitsensitive/phaser3-typescript",version:"0.0.1",width:1600,height:1170,zoom:.6,type:Phaser.AUTO,parent:"game",scene:[i,P,T],input:{keyboard:!0},physics:{default:"arcade",arcade:{gravity:{x:0,y:0},debug:!0}},scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH,parent:"game",height:1170,zoom:.6},backgroundColor:"#000000",render:{antialias:!0}};class O extends Phaser.Game{constructor(e){super(e)}}window.addEventListener("load",(()=>{new O(k)}))}},s={};function i(e){var a=s[e];if(void 0!==a)return a.exports;var h=s[e]={exports:{}};return t[e].call(h.exports,h,h.exports,i),h.exports}i.m=t,e=[],i.O=(t,s,a,h)=>{if(!s){var r=1/0;for(c=0;c<e.length;c++){for(var[s,a,h]=e[c],n=!0,o=0;o<s.length;o++)(!1&h||r>=h)&&Object.keys(i.O).every((e=>i.O[e](s[o])))?s.splice(o--,1):(n=!1,h<r&&(r=h));if(n){e.splice(c--,1);var l=a();void 0!==l&&(t=l)}}return t}h=h||0;for(var c=e.length;c>0&&e[c-1][2]>h;c--)e[c]=e[c-1];e[c]=[s,a,h]},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={792:0};i.O.j=t=>0===e[t];var t=(t,s)=>{var a,h,[r,n,o]=s,l=0;if(r.some((t=>0!==e[t]))){for(a in n)i.o(n,a)&&(i.m[a]=n[a]);if(o)var c=o(i)}for(t&&t(s);l<r.length;l++)h=r[l],i.o(e,h)&&e[h]&&e[h][0](),e[h]=0;return i.O(c)},s=self.webpackChunktype_project_template=self.webpackChunktype_project_template||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var a=i.O(void 0,[96],(()=>i(711)));a=i.O(a)})();